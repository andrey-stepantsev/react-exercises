(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"1/IK":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"2HIG":function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"c",(function(){return Z})),n.d(t,"b",(function(){return ve}));var r=n("a3WO");var o=n("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?u(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=n("rePB"),b=n("q1tI"),m=n.n(b),d=n("/MKj"),v=n("ZmJU"),g=n("twku"),O=n("AaJB"),h=n("EdV3"),x=n("h4VS"),j=n("Ff2n"),w=n("5D9J"),S=n("qKvR"),k=m.a.createElement;function E(){var e=Object(x.a)(["\n  ","\n  ","\n"]);return E=function(){return e},e}function I(){var e=Object(x.a)(["\n  font-size: 0px;\n  background-color: #e0e0e0;\n  pointer-events: none;\n"]);return I=function(){return e},e}function P(){var e=Object(x.a)(["\n  font-size: 1.8rem;\n  background-color: ",";\n"]);return P=function(){return e},e}function D(){var e=Object(x.a)(['\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  min-width: 85px;\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 0.8;\n  }\n  &:before {\n    content: "";\n    display: inline-block;\n    padding-bottom: 100%;\n  }\n']);return D=function(){return e},e}var N,_=Object(S.c)(D()),A=function(e){return Object(S.c)(P(),e.background||"#00bcd4")},C=Object(S.c)(I()),T=Object(w.a)((function(e){var t=e.value,n=(e.background,Object(j.a)(e,["value","background"]));return k("button",n,t)}))(E(),_,(function(e){return e.value?A:C})),R=n("uISq"),G=n.n(R);!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROCESS=1]="IN_PROCESS",e[e.WIN=2]="WIN",e[e.LOSE=3]="LOSE"}(N||(N={}));var L=G()({37:{x:-1,y:0},38:{x:0,y:-1},39:{x:1,y:0},40:{x:0,y:1}}),W=G()({2:"#00bcd4",4:"#4caf50",8:"#1565c0",16:"#ff9800",32:"#ff5722",64:"#795548",128:"#7b1fa2",256:"#e91e63",512:"#009688",1024:"#d50000",2048:"#ffea00"}),F=n("i7Pf"),K=n("LvDl"),M=function(e){var t=J(e),n=Object(K.sample)(t);n&&(e[n.y][n.x].value=2)},J=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)0===e[n][r].value&&t.push({x:r,y:n});return t},q=function(e,t,n){for(var r={x:t.x+n.x,y:t.y+n.y},o=Object(K.cloneDeep)(t);Y(e,r)&&z(e,t,r);)o.x=r.x,o.y=r.y,r.x=r.x+n.x,r.y=r.y+n.y;return o},Y=function(e,t){var n=t.x,r=t.y;return n>=0&&n<e.length&&r>=0&&r<e.length},z=function(e,t,n){var r=e[t.y][t.x].value,o=e[n.y][n.x],a=o.value,c=o.isMerged;return 0===a||a===r&&!c},B=function(e){for(var t=Object.values(L),n=0;n<e.length;n++)for(var r=0;r<e.length;r++){var o=e[n][r].value;if(o)for(var a=0;a<t.length;a++){var c=t[a],i={x:r+c.x,y:n+c.y};if(Y(e,i)&&e[n+c.y][r+c.x].value===o)return!0}}return!1};function U(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V={gameField:[],score:0,maxScore:0,timer:"00:00",timerStart:void 0,gameStatus:N.NOT_STARTED},H=Object(F.b)("game/gameOver"),Z=Object(F.c)({name:"game",initialState:V,reducers:{create:function(e,t){e.gameField=function(e){for(var t=new Array(e),n=new Array(e),r=0;r<e;r++)n[r]={value:0,isMerged:!1};for(var o=0;o<e;o++)t[o]=Object(K.cloneDeep)(n);for(var a=e/2,c=0;c<a;c++)M(t);return t}(t.payload),e.score=0,e.timer="00:00",e.timerStart=Date.now(),e.gameStatus=N.IN_PROCESS},merge:function(e,t){var n,r=e.gameField,o=t.payload,a=function(e,t){for(var n={Xs:[],Ys:[]},r=0;r<e.length;r++)n.Xs.push(r),n.Ys.push(r);return 1===t.x&&n.Xs.reverse(),1===t.y&&n.Ys.reverse(),n}(r,o),c=a.Xs,i=!1,u=U(a.Ys);try{for(u.s();!(n=u.n()).done;){var f,l=n.value,s=U(c);try{for(s.s();!(f=s.n()).done;){var p=f.value,y=r[l][p],b={x:p,y:l},m=y.value;if(0!==m){var d=q(r,b,o);if(!Object(K.isEqual)(d,b)){var v=r[d.y][d.x],g=v.value,O=g+m;2048===O&&(e.gameStatus=N.WIN),g===m&&(v.isMerged=!0,e.score+=O),v.value=O,y.value=0,i=!0}}}}catch(h){s.e(h)}finally{s.f()}}}catch(h){u.e(h)}finally{u.f()}e.score>e.maxScore&&(e.maxScore=e.score),function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)e[t][n].isMerged=!1}(r),i&&e.gameStatus!==N.WIN&&(M(r),!function(e){return J(e).length>0||B(e)}(r)&&(e.gameStatus=N.LOSE))},updateTimer:function(e,t){e.timer=t.payload},reset:function(){return V}}}),$=Z.actions,Q=(Z.reducer,m.a.createElement);function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ne={create:$.create,merge:$.merge,gameOver:H},re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,o=ee(l);function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(y.a)(u(e),"createNewGame",(function(){e.props.create(4),document.addEventListener("keydown",e.onKeydown,!1)})),Object(y.a)(u(e),"onKeydown",(function(t){Object.keys(L).map(Number).includes(t.keyCode)&&e.props.merge(L[t.keyCode])})),Object(y.a)(u(e),"removeKeyListener",(function(){document.removeEventListener("keydown",e.onKeydown,!1)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.createNewGame()}},{key:"componentWillUnmount",value:function(){this.removeKeyListener()}},{key:"componentDidUpdate",value:function(){this.props.gameStatus!==N.WIN&&this.props.gameStatus!==N.LOSE||(this.removeKeyListener(),this.props.gameOver())}},{key:"render",value:function(){return Q(h.a,{width:"465px",padding:"25px"},Q(v.b,{columns:2,rowGap:"30px",columnGap:"10px",margin:"0 0 25px"},Q(v.a,{flexDirection:"column",alignItems:"flex-start",padding:"0 10px"},Q(g.a,{margin:"0 0 8px",primary:!0,bold:!0},"2048"),Q(g.e,null,"Join the tiles, get to ",Q("strong",null,"2048"),"!")),Q(v.a,{justifyContent:"flex-end"},Q(v.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 0 0 25px"},Q(g.b,{margin:"0 0 8px"},this.props.score),Q(g.e,{uppercase:!0},"Score")),Q(v.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 0 0 25px"},Q(g.b,{margin:"0 0 8px"},this.props.maxScore),Q(g.e,{uppercase:!0},"Best"))),Q(v.a,{alignItems:"center",justifyContent:"flex-start",padding:"0 10px"},Q(g.c,{className:"material-icons"},"query_builder"),Q(g.e,null,this.props.timer)),Q(v.a,{justifyContent:"flex-end"},Q(O.a,{type:"button",text:"New Game",icon:"cached",onClick:this.createNewGame}))),Q(v.a,{flexDirection:"column",position:"relative"},this.props.gameStatus===N.WIN&&Q(m.a.Fragment,null,Q(v.a,{flexDirection:"column",position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",transparent:!0},Q(g.a,{letterSpacing:"3px",margin:"0 0 15px",bold:!0},"You Win"),Q(g.e,null,'You can start again by clicking "New Game"'))),this.props.gameStatus===N.LOSE&&Q(m.a.Fragment,null,Q(v.a,{flexDirection:"column",position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",transparent:!0},Q(g.a,{letterSpacing:"3px",margin:"0 0 15px",bold:!0},"Game Over"),Q(g.e,null,'Try again by clicking "New Game"'))),Q(v.b,{columns:4,gridGap:"10px"},this.props.gameField.map((function(e,t){return a(e.map((function(e,n){var r=e.value;return Q(T,{key:"".concat(n,"_").concat(t),value:r,background:W[r]})})))})))))}}])&&i(t.prototype,n),r&&i(t,r),l}(m.a.Component),oe=Object(d.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.game)}),ne)(re),ae=n("o0o1"),ce=n.n(ae),ie=n("5rFJ"),ue=function(e){var t=Date.now()-e;return fe(t)},fe=function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=t-60*n;return(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},le=n("mO3n"),se=function(e){return e.game.timerStart},pe=ce.a.mark(me),ye=ce.a.mark(de),be=ce.a.mark(ve);function me(){var e,t;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(ie.f)(se);case 3:return e=n.sent,n.next=6,Object(ie.a)(ue,e);case 6:return t=n.sent,n.next=9,Object(ie.e)($.updateTimer(t));case 9:return n.next=11,Object(ie.c)(1e3);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),pe)}function de(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.e)($.reset());case 2:case"end":return e.stop()}}),ye)}function ve(){var e;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ie.h)(le.d.actions.logout.type,de);case 2:return t.next=5,Object(ie.g)($.create.type);case 5:return t.next=7,Object(ie.d)(me);case 7:return e=t.sent,t.next=10,Object(ie.g)(H.type);case 10:return t.next=12,Object(ie.b)(e);case 12:t.next=2;break;case 14:case"end":return t.stop()}}),be)}},uISq:function(e,t){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!==typeof t[n]&&"function"!==typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}}}]);
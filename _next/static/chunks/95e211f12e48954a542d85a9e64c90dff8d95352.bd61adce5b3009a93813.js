(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"1/IK":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"2HIG":function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return z})),n.d(t,"b",(function(){return me}));var r=n("a3WO");var o=n("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?u(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=n("rePB"),m=n("q1tI"),b=n.n(m),v=n("/MKj"),d=n("ZmJU"),g=n("twku"),h=n("AaJB"),O=n("EdV3"),x=n("h4VS"),j=n("Ff2n"),w=n("5D9J"),S=n("qKvR"),k=b.a.createElement;function E(){var e=Object(x.a)(["\n  ","\n  ","\n"]);return E=function(){return e},e}function D(){var e=Object(x.a)(["\n  font-size: 0px;\n  background-color: #e0e0e0;\n  pointer-events: none;\n"]);return D=function(){return e},e}function I(){var e=Object(x.a)(["\n  font-size: 1.8rem;\n  background-color: #00bcd4;\n"]);return I=function(){return e},e}function P(){var e=Object(x.a)(['\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  min-width: 85px;\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 0.8;\n  }\n  &:before {\n    content: "";\n    display: inline-block;\n    padding-bottom: 100%;\n  }\n']);return P=function(){return e},e}var N,_=Object(S.c)(P()),A=Object(S.c)(I()),C=Object(S.c)(D()),T=Object(w.a)((function(e){var t=e.value,n=Object(j.a)(e,["value"]);return k("button",n,t)}))(E(),_,(function(e){return e.value?A:C}));!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROCESS=1]="IN_PROCESS",e[e.WIN=2]="WIN",e[e.LOSE=3]="LOSE"}(N||(N={}));var R={37:{x:-1,y:0},38:{x:0,y:-1},39:{x:1,y:0},40:{x:0,y:1}},G=n("i7Pf"),L=n("LvDl"),M=function(e){var t=W(e),n=Object(L.sample)(t);n&&(e[n.y][n.x].value=2)},W=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e.length;r++)0===e[n][r].value&&t.push({x:r,y:n});return t},K=function(e,t,n){for(var r={x:t.x+n.x,y:t.y+n.y},o=Object(L.cloneDeep)(t);F(e,r)&&J(e,t,r);)o.x=r.x,o.y=r.y,r.x=r.x+n.x,r.y=r.y+n.y;return o},F=function(e,t){var n=t.x,r=t.y;return n>=0&&n<e.length&&r>=0&&r<e.length},J=function(e,t,n){var r=e[t.y][t.x].value,o=e[n.y][n.x],a=o.value,c=o.isMerged;return 0===a||a===r&&!c},Y=function(e){for(var t=Object.values(R),n=0;n<e.length;n++)for(var r=0;r<e.length;r++){var o=e[n][r].value;if(o)for(var a=0;a<t.length;a++){var c=t[a],i={x:r+c.x,y:n+c.y};if(F(e,i)&&e[n+c.y][r+c.x].value===o)return!0}}return!1};function q(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U={gameField:[],score:0,maxScore:0,timer:"00:00",timerStart:void 0,gameStatus:N.NOT_STARTED},X=Object(G.b)("game/gameOver"),z=Object(G.c)({name:"game",initialState:U,reducers:{create:function(e,t){e.gameField=function(e){for(var t=new Array(e),n=new Array(e),r=0;r<e;r++)n[r]={value:0,isMerged:!1};for(var o=0;o<e;o++)t[o]=Object(L.cloneDeep)(n);for(var a=e/2,c=0;c<a;c++)M(t);return t}(t.payload),e.score=0,e.timer="00:00",e.timerStart=Date.now(),e.gameStatus=N.IN_PROCESS},merge:function(e,t){var n,r=e.gameField,o=t.payload,a=function(e,t){for(var n={Xs:[],Ys:[]},r=0;r<e.length;r++)n.Xs.push(r),n.Ys.push(r);return 1===t.x&&n.Xs.reverse(),1===t.y&&n.Ys.reverse(),n}(r,o),c=a.Xs,i=!1,u=q(a.Ys);try{for(u.s();!(n=u.n()).done;){var f,l=n.value,s=q(c);try{for(s.s();!(f=s.n()).done;){var p=f.value,y=r[l][p],m={x:p,y:l},b=y.value;if(0!==b){var v=K(r,m,o);if(!Object(L.isEqual)(v,m)){var d=r[v.y][v.x],g=d.value;d.value=g+b,2048===d.value&&(e.gameStatus=N.WIN),d.isMerged=g===b,d.isMerged&&(e.score+=d.value),e.score>e.maxScore&&(e.maxScore=e.score),y.value=0,i=!0}}}}catch(h){s.e(h)}finally{s.f()}}}catch(h){u.e(h)}finally{u.f()}!function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)e[t][n].isMerged=!1}(r),i&&e.gameStatus!==N.WIN&&(M(r),!function(e){return W(e).length>0||Y(e)}(r)&&(e.gameStatus=N.LOSE))},updateTimer:function(e,t){e.timer=t.payload},reset:function(){return U}}}),V=z.actions,H=(z.reducer,b.a.createElement);function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q={create:V.create,merge:V.merge,gameOver:X},ee=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,o=Z(l);function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),Object(y.a)(u(e),"createNewGame",(function(){e.props.create(4)})),Object(y.a)(u(e),"onKeydown",(function(t){Object.keys(R).map(Number).includes(t.keyCode)&&e.props.merge(R[t.keyCode])})),Object(y.a)(u(e),"removeKeyListener",(function(){document.removeEventListener("keydown",e.onKeydown,!1)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.createNewGame(),document.addEventListener("keydown",this.onKeydown,!1)}},{key:"componentWillUnmount",value:function(){this.removeKeyListener()}},{key:"componentDidUpdate",value:function(){this.props.gameStatus!==N.WIN&&this.props.gameStatus!==N.LOSE||(this.removeKeyListener(),this.props.gameOver())}},{key:"render",value:function(){return H(O.a,{width:"465px",padding:"25px"},H(d.b,{columns:2,rowGap:"30px",columnGap:"10px",margin:"0 0 25px"},H(d.a,{flexDirection:"column",alignItems:"flex-start",padding:"0 10px"},H(g.a,{margin:"0 0 8px",primary:!0,bold:!0},"2048"),H(g.e,null,"Join the tiles, get to ",H("strong",null,"2048"),"!")),H(d.a,{justifyContent:"flex-end"},H(d.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 0 0 25px"},H(g.b,{margin:"0 0 8px"},this.props.score),H(g.e,{uppercase:!0},"Score")),H(d.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 0 0 25px"},H(g.b,{margin:"0 0 8px"},this.props.maxScore),H(g.e,{uppercase:!0},"Best"))),H(d.a,{alignItems:"center",justifyContent:"flex-start",padding:"0 10px"},H(g.c,{className:"material-icons"},"query_builder"),H(g.e,null,this.props.timer)),H(d.a,{justifyContent:"flex-end"},H(h.a,{type:"button",text:"New Game",icon:"cached",onClick:this.createNewGame}))),H(d.a,{flexDirection:"column",position:"relative"},this.props.gameStatus===N.WIN&&H(b.a.Fragment,null,H(d.a,{flexDirection:"column",position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",transparent:!0},H(g.a,{letterSpacing:"3px",margin:"0 0 15px",bold:!0},"You Win"),H(g.e,null,'You can start again by clicking "New Game"'))),this.props.gameStatus===N.LOSE&&H(b.a.Fragment,null,H(d.a,{flexDirection:"column",position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",transparent:!0},H(g.a,{letterSpacing:"3px",margin:"0 0 15px",bold:!0},"Game Over"),H(g.e,null,'Try again by clicking "New Game"'))),H(d.b,{columns:4,gridGap:"10px"},this.props.gameField.map((function(e,t){return a(e.map((function(e,n){return H(T,{key:"".concat(n,"_").concat(t),value:e.value})})))})))))}}])&&i(t.prototype,n),r&&i(t,r),l}(b.a.Component),te=Object(v.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.game)}),Q)(ee),ne=n("o0o1"),re=n.n(ne),oe=n("5rFJ"),ae=function(e){var t=Date.now()-e;return ce(t)},ce=function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=t-60*n;return(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},ie=n("mO3n"),ue=function(e){return e.game.timerStart},fe=re.a.mark(pe),le=re.a.mark(ye),se=re.a.mark(me);function pe(){var e,t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(oe.f)(ue);case 3:return e=n.sent,n.next=6,Object(oe.a)(ae,e);case 6:return t=n.sent,n.next=9,Object(oe.e)(V.updateTimer(t));case 9:return n.next=11,Object(oe.c)(1e3);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),fe)}function ye(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.e)(V.reset());case 2:case"end":return e.stop()}}),le)}function me(){var e;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(oe.h)(ie.d.actions.logout.type,ye);case 2:return t.next=5,Object(oe.g)(V.create.type);case 5:return t.next=7,Object(oe.d)(pe);case 7:return e=t.sent,t.next=10,Object(oe.g)(X.type);case 10:return t.next=12,Object(oe.b)(e);case 12:t.next=2;break;case 14:case"end":return t.stop()}}),se)}}}]);